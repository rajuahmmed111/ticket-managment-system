// datasource and generator setup
datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

// ---------------------------------------------------------
//  ENUMS
// ---------------------------------------------------------

enum UserStatus {
    ACTIVE
    INACTIVE
}

enum Role {
    SUPER_ADMIN
    ADMIN
    CUSTOMER
}

enum ticketStatus {
    OPEN
    CLOSED
    RESOLVED
}

// ---------------------------------------------------------
//  MODELS
// ---------------------------------------------------------

model User {
    id           String     @id @default(auto()) @map("_id") @db.ObjectId
    firstName    String
    lastName     String?
    email        String     @unique
    password     String
    userName     String     @unique
    dateOfBirth  String?
    profileImage String?
    UserStatus   UserStatus @default(ACTIVE)
    otp          String?
    otpExpiry    DateTime?
    hexCode      String?
    role         Role       @default(CUSTOMER)
    createdAt    DateTime   @default(now())
    updatedAt    DateTime   @updatedAt

    @@map("users")
}

model Ticket {
    id          String     @id @default(auto()) @map("_id") @db.ObjectId
    subject       String
    description String
    status      ticketStatus
    priority    String
    assignedTo  String
    createdAt    DateTime   @default(now())
    updatedAt    DateTime   @updatedAt
}
